---
import '../../styles/global.css';
import { Image } from 'astro:assets';
import magpieIcon from '../../assets/magpie/icon-20x20-iphone@3x copy.png';
import birdGif from '../../assets/magpie/_ copy.gif';
import screen1 from '../../assets/magpie/screen 1.jpg';
import screen2 from '../../assets/magpie/screen 2.jpg';
import screen3 from '../../assets/magpie/screen 3.PNG';

const base = import.meta.env.BASE_URL;
const screens = [screen1, screen2, screen3];
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content="Magpie — Catch your ideas before they fly away." />
    <title>Magpie | Meenal Balar</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --sky-top: #C9E4F2;
        --sky-bottom: #F5EDE4;
        --text-dark: #1a1a1a;
        --shimmer: rgba(255, 255, 255, 0.9);
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        background: linear-gradient(180deg, var(--sky-top) 0%, var(--sky-bottom) 100%);
        background-attachment: fixed;
        color: var(--text-dark);
        overflow-x: hidden;
      }

      /* Static logo in top-left */
      .logo {
        position: fixed;
        top: 1.5rem;
        left: 2rem;
        z-index: 200;
      }

      .logo img {
        width: 36px;
        height: auto;
        border-radius: 8px;
        mix-blend-mode: multiply;
      }

      /* The flying magpie - hand-drawn style */
      .flying-bird {
        position: fixed;
        z-index: 100;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.5s ease;
      }

      .flying-bird.visible {
        opacity: 1;
      }

      .flying-bird svg {
        width: 120px;
        height: auto;
        transform: scaleX(1); /* Default: face right (flying right) */
        transition: transform 0.3s ease;
      }

      /* When scrolling up, flip to face left */
      .flying-bird.going-up svg {
        transform: scaleX(-1);
      }

      /* Wing flapping animation - V-style bird */
      .flying-bird .wing-left {
        transform-origin: 30px 15px;
        animation: flap-left 0.4s ease-in-out infinite;
      }

      .flying-bird .wing-right {
        transform-origin: 30px 15px;
        animation: flap-right 0.4s ease-in-out infinite;
      }

      @keyframes flap-left {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(20deg); }
      }

      @keyframes flap-right {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(-20deg); }
      }

      /* Gentle bobbing while flying */
      .flying-bird.visible {
        animation: fly-bob 3s ease-in-out infinite;
      }

      @keyframes fly-bob {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
      }

      /* Shiny objects - glittery baubles */
      .shiny {
        position: absolute;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, white 0%, rgba(255,255,255,0.8) 40%, rgba(200,200,200,0.4) 100%);
        box-shadow:
          0 0 20px 5px rgba(255,255,255,0.6),
          0 0 40px 10px rgba(255,255,255,0.3);
        animation: shimmer 3s ease-in-out infinite;
      }

      /* Glitter particles around baubles */
      .shiny::before,
      .shiny::after {
        content: '';
        position: absolute;
        border-radius: 50%;
        background: white;
        animation: sparkle 1.5s ease-in-out infinite;
      }

      .shiny::before {
        width: 3px;
        height: 3px;
        top: -8px;
        left: 50%;
        animation-delay: 0s;
      }

      .shiny::after {
        width: 2px;
        height: 2px;
        top: 50%;
        right: -6px;
        animation-delay: 0.5s;
      }

      @keyframes shimmer {
        0%, 100% {
          opacity: 0.5;
          transform: scale(1);
          box-shadow:
            0 0 15px 3px rgba(255,255,255,0.4),
            0 0 30px 8px rgba(255,255,255,0.2);
        }
        50% {
          opacity: 1;
          transform: scale(1.15);
          box-shadow:
            0 0 25px 8px rgba(255,255,255,0.7),
            0 0 50px 15px rgba(255,255,255,0.4);
        }
      }

      @keyframes sparkle {
        0%, 100% { opacity: 0; transform: scale(0.5); }
        50% { opacity: 1; transform: scale(1.2); }
      }

      /* Soft clouds */
      .cloud {
        position: absolute;
        background: radial-gradient(ellipse at center, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.5) 50%, transparent 80%);
        border-radius: 50%;
        filter: blur(15px);
        pointer-events: none;
        opacity: 0.6;
        z-index: 1;
      }

      .cloud.large {
        width: 500px;
        height: 200px;
        animation: cloud-drift-1 25s ease-in-out infinite;
      }

      .cloud.medium {
        width: 350px;
        height: 140px;
        animation: cloud-drift-2 30s ease-in-out infinite;
      }

      .cloud.small {
        width: 220px;
        height: 90px;
        animation: cloud-drift-3 20s ease-in-out infinite;
      }

      @keyframes cloud-drift-1 {
        0%, 100% { transform: translateX(0); opacity: 0.5; }
        50% { transform: translateX(40px); opacity: 0.8; }
      }

      @keyframes cloud-drift-2 {
        0%, 100% { transform: translateX(0); opacity: 0.6; }
        50% { transform: translateX(-30px); opacity: 0.75; }
      }

      @keyframes cloud-drift-3 {
        0%, 100% { transform: translateX(0); opacity: 0.5; }
        50% { transform: translateX(25px); opacity: 0.7; }
      }

      /* Distant birds - smaller V-shapes in the background */
      .distant-bird {
        position: absolute;
        opacity: 0.3;
      }

      .distant-bird svg {
        width: 24px;
        height: auto;
      }

      .distant-bird.small svg {
        width: 16px;
      }

      .distant-bird.tiny svg {
        width: 10px;
        opacity: 0.6;
      }

      .distant-bird .wing-left {
        transform-origin: 30px 15px;
        animation: distant-flap-left 0.6s ease-in-out infinite;
      }

      .distant-bird .wing-right {
        transform-origin: 30px 15px;
        animation: distant-flap-right 0.6s ease-in-out infinite;
      }

      @keyframes distant-flap-left {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(15deg); }
      }

      @keyframes distant-flap-right {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(-15deg); }
      }

      @keyframes float {
        0%, 100% { transform: translate(0, 0); }
        25% { transform: translate(15px, -20px); }
        50% { transform: translate(5px, -10px); }
        75% { transform: translate(-10px, -25px); }
      }

      .float-1 { animation: float 18s ease-in-out infinite; }
      .float-2 { animation: float 22s ease-in-out infinite reverse; }
      .float-3 { animation: float 15s ease-in-out infinite; }

      /* Vary the flap speed per distant bird */
      .distant-bird:nth-child(odd) .wing-left,
      .distant-bird:nth-child(odd) .wing-right { animation-duration: 0.5s; }
      .distant-bird:nth-child(even) .wing-left,
      .distant-bird:nth-child(even) .wing-right { animation-duration: 0.7s; }

      /* Sections */
      .section {
        min-height: 70vh;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
      }

      .section.hero {
        min-height: 100vh;
      }

      /* Typography */
      .title {
        font-family: 'Cormorant Garamond', Georgia, serif;
        font-size: clamp(5rem, 20vw, 15rem);
        font-weight: 300;
        letter-spacing: -0.03em;
        color: var(--text-dark);
        opacity: 0.9;
      }

      .tagline {
        font-family: 'Cormorant Garamond', Georgia, serif;
        font-size: clamp(1.2rem, 2.5vw, 1.85rem);
        font-weight: 400;
        color: var(--text-dark);
        opacity: 0.7;
        max-width: 400px;
        text-align: center;
        line-height: 1.5;
      }

      /* Waitlist */
      .waitlist {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0;
      }

      .waitlist-form {
        display: flex;
        gap: 0.5rem;
      }

      .waitlist input {
        padding: 1rem 1.25rem;
        border: 1px solid rgba(26, 26, 26, 0.15);
        border-radius: 0;
        background: rgba(255,255,255,0.4);
        backdrop-filter: blur(10px);
        font-size: 1rem;
        font-family: 'Lato', sans-serif;
        color: var(--text-dark);
        outline: none;
        width: 220px;
        transition: border-color 0.2s, background 0.2s;
      }

      .waitlist input:focus {
        border-color: rgba(26, 26, 26, 0.4);
        background: rgba(255,255,255,0.6);
      }

      .waitlist input::placeholder {
        color: rgba(26, 26, 26, 0.4);
      }

      .waitlist button {
        padding: 1rem 2rem;
        border: 1px solid var(--text-dark);
        border-radius: 0;
        background: var(--text-dark);
        color: white;
        font-size: 1rem;
        font-family: 'Lato', sans-serif;
        cursor: pointer;
        transition: opacity 0.2s;
      }

      .waitlist button:hover {
        opacity: 0.8;
      }

      .waitlist-tagline {
        font-family: 'Cormorant Garamond', Georgia, serif;
        font-size: clamp(1.1rem, 2.5vw, 1.4rem);
        color: var(--text-dark);
        opacity: 0.8;
        margin-bottom: 1.5rem;
        max-width: 320px;
        text-align: center;
        line-height: 1.5;
      }

      .waitlist-note {
        font-size: 0.8rem;
        opacity: 0.4;
        font-family: 'Lato', sans-serif;
        margin-bottom: 0.75rem;
      }

      /* Nav */
      nav {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        padding: 1.5rem 2rem;
        z-index: 200;
        display: flex;
        justify-content: flex-end;
      }

      nav a {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.875rem;
        font-family: 'Lato', sans-serif;
        color: var(--text-dark);
        text-decoration: none;
        opacity: 0.6;
        transition: opacity 0.2s;
      }

      nav a:hover {
        opacity: 1;
      }

      /* Footer */
      footer {
        padding: 3rem 2rem;
        text-align: center;
        font-family: 'Lato', sans-serif;
        font-size: 0.8rem;
        opacity: 0.4;
      }

      footer a {
        color: var(--text-dark);
      }

      /* Green gradient at bottom of first section */
      .ground {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 25%;
        background: linear-gradient(to top, rgba(120, 150, 90, 0.25) 0%, transparent 100%);
        pointer-events: none;
      }

      /* Phone + text side by side */
      .phone-text-split {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 4rem;
        padding: 0 3rem;
        max-width: 1000px;
        margin: 0 auto;
      }

      .phone-single {
        flex-shrink: 0;
      }

      .phone-device {
        width: 240px;
        height: 480px;
        border-radius: 40px;
        background: rgba(255, 255, 255, 0.25);
        border: 1px solid rgba(26, 26, 26, 0.08);
        position: relative;
        overflow: hidden;
      }

      .phone-screen {
        position: absolute;
        inset: 8px;
        border-radius: 32px;
        overflow: hidden;
      }

      .phone-screen img {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0;
        transition: opacity 0.8s ease;
      }

      .phone-screen img.active {
        opacity: 1;
      }

      /* Text content - right side */
      .text-content {
        max-width: 420px;
        text-align: left;
      }

      .text-content p {
        font-family: 'Lato', sans-serif;
        font-size: clamp(1rem, 1.8vw, 1.1rem);
        line-height: 1.75;
        color: var(--text-dark);
        opacity: 0.75;
      }

      .text-content p + p {
        margin-top: 1.25em;
      }

      @media (max-width: 860px) {
        .phone-text-split {
          flex-direction: column;
          gap: 3rem;
          padding: 0 2rem;
        }

        .phone-device {
          width: 200px;
          height: 400px;
          border-radius: 36px;
        }

        .text-content {
          text-align: center;
          max-width: 540px;
        }
      }

      /* Mobile optimizations */
      @media (max-width: 640px) {
        .logo {
          top: 1rem;
          left: 1rem;
        }

        .logo img {
          width: 28px;
        }

        nav {
          padding: 1rem;
        }

        .section.hero {
          min-height: 85vh;
        }

        .tagline {
          padding: 0 1.5rem;
          max-width: 100%;
        }

        .flying-bird svg {
          width: 80px;
        }

        .cloud.large {
          width: 300px;
          height: 120px;
        }

        .cloud.medium {
          width: 200px;
          height: 80px;
        }

        .cloud.small {
          width: 140px;
          height: 60px;
        }

        .phone-device {
          width: 180px;
          height: 360px;
          border-radius: 32px;
        }

        .waitlist-form {
          flex-direction: column;
          width: 100%;
          max-width: 280px;
        }

        .waitlist input {
          width: 100%;
        }

        .waitlist button {
          width: 100%;
        }

        footer {
          padding: 2rem 1rem;
        }
      }
    </style>
  </head>

  <body>
    <!-- Nav -->
    <nav>
      <a href={base} aria-label="Back to home">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
      </a>
    </nav>

    <!-- Static logo -->
    <div class="logo">
      <Image
        src={magpieIcon}
        alt="Magpie"
        width={72}
        height={72}
      />
    </div>

    <!-- Animated flying bird - V-shaped seagull style -->
    <div class="flying-bird" id="flying-bird">
      <svg viewBox="0 0 60 30" fill="none">
        <!-- Left wing -->
        <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        <!-- Right wing -->
        <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
      </svg>
    </div>

    <!-- Section 1: Title -->
    <section class="section hero">
      <!-- Soft clouds -->
      <div class="cloud large" style="top: 10%; left: -5%; animation-delay: 0s;"></div>
      <div class="cloud medium" style="top: 60%; right: -10%; animation-delay: 2s;"></div>
      <div class="cloud small" style="top: 30%; left: 70%; animation-delay: 4s;"></div>

      <!-- Shiny objects -->
      <div class="shiny" style="width: 12px; height: 12px; top: 20%; left: 70%; animation-delay: 0s;"></div>
      <div class="shiny" style="width: 8px; height: 8px; top: 35%; left: 80%; animation-delay: 1.5s;"></div>
      <div class="shiny" style="width: 6px; height: 6px; top: 15%; left: 60%; animation-delay: 3s;"></div>
      <div class="shiny" style="width: 10px; height: 10px; top: 50%; left: 85%; animation-delay: 2s;"></div>

      <!-- Distant birds flying in the background -->
      <div class="distant-bird float-1" style="top: 25%; left: 15%;">
        <svg viewBox="0 0 60 30" fill="none">
          <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      </div>

      <div class="distant-bird small float-2" style="top: 18%; left: 22%;">
        <svg viewBox="0 0 60 30" fill="none">
          <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      </div>

      <div class="distant-bird float-3" style="top: 55%; left: 78%;">
        <svg viewBox="0 0 60 30" fill="none">
          <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      </div>

      <h1 class="title">Magpie</h1>

      <div class="ground"></div>
    </section>

    <!-- Section 2: Tagline -->
    <section class="section hero">
      <!-- Soft clouds -->
      <div class="cloud medium" style="top: 15%; left: 5%; animation-delay: 1s;"></div>
      <div class="cloud large" style="top: 70%; right: 0%; animation-delay: 3s;"></div>
      <div class="cloud small" style="top: 40%; left: 50%; animation-delay: 5s;"></div>

      <!-- Shiny objects -->
      <div class="shiny" style="width: 10px; height: 10px; top: 30%; left: 20%; animation-delay: 0.5s;"></div>
      <div class="shiny" style="width: 14px; height: 14px; top: 45%; left: 75%; animation-delay: 2.5s;"></div>
      <div class="shiny" style="width: 7px; height: 7px; top: 60%; left: 30%; animation-delay: 1s;"></div>

      <!-- Distant birds flying in the background -->
      <div class="distant-bird float-3" style="top: 20%; left: 65%;">
        <svg viewBox="0 0 60 30" fill="none">
          <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      </div>

      <div class="distant-bird small float-1" style="top: 15%; left: 72%;">
        <svg viewBox="0 0 60 30" fill="none">
          <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      </div>

      <div class="distant-bird float-2" style="top: 65%; left: 20%;">
        <svg viewBox="0 0 60 30" fill="none">
          <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      </div>

      <div class="distant-bird tiny float-3" style="top: 12%; left: 58%;">
        <svg viewBox="0 0 60 30" fill="none">
          <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      </div>

      <p class="tagline">A mind-mapping app for creatives that helps catch your ideas before they fly away.</p>
    </section>

    <!-- Section 3: Phone + Text -->
    <section class="section hero">
      <!-- Soft clouds -->
      <div class="cloud large" style="top: 8%; right: -8%; animation-delay: 0s;"></div>
      <div class="cloud small" style="top: 70%; left: 5%; animation-delay: 2s;"></div>
      <div class="cloud medium" style="top: 35%; left: -10%; animation-delay: 3s;"></div>

      <!-- Shiny objects -->
      <div class="shiny" style="width: 10px; height: 10px; top: 15%; left: 18%; animation-delay: 0.8s;"></div>
      <div class="shiny" style="width: 8px; height: 8px; top: 75%; left: 85%; animation-delay: 2s;"></div>
      <div class="shiny" style="width: 6px; height: 6px; top: 50%; left: 8%; animation-delay: 1.5s;"></div>

      <!-- Distant birds -->
      <div class="distant-bird float-2" style="top: 12%; left: 75%;">
        <svg viewBox="0 0 60 30" fill="none">
          <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      </div>
      <div class="distant-bird tiny float-3" style="top: 80%; left: 20%;">
        <svg viewBox="0 0 60 30" fill="none">
          <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      </div>

      <div class="phone-text-split">
        <div class="phone-single">
          <div class="phone-device">
            <div class="phone-screen" id="phone-carousel">
              {screens.map((screen, i) => (
                <Image
                  src={screen}
                  alt={`Magpie app screenshot ${i + 1}`}
                  class={i === 0 ? 'active' : ''}
                  widths={[480, 720]}
                  sizes="240px"
                />
              ))}
            </div>
          </div>
        </div>

        <div class="text-content">
          <p>I believe we're all made up of a handful of ideas that shape what we notice and how we move through the world. If we're lucky, we can see ideas poke through the small openings in our day—in podcasts that stop you, thoughts that catch you mid-run, sentences you screenshot from books or Substacks.</p>
          <p>But most tools bury these ideas before they can come alive. You jot them down on a walk, file them away, or have AI shove them into a to-do list. Scattered and half-remembered. Organized, but lifeless.</p>
          <p>Magpie captures your ideas without crushing them—and notices what you keep circling back to.</p>
        </div>
      </div>
    </section>

    <!-- Section 6: Waitlist -->
    <section class="section">
      <!-- Soft clouds -->
      <div class="cloud large" style="top: 20%; right: -8%; animation-delay: 2s;"></div>
      <div class="cloud small" style="top: 50%; left: 10%; animation-delay: 0s;"></div>
      <div class="cloud medium" style="top: 75%; left: 40%; animation-delay: 4s;"></div>

      <!-- Shiny objects -->
      <div class="shiny" style="width: 9px; height: 9px; top: 25%; left: 15%; animation-delay: 1.2s;"></div>
      <div class="shiny" style="width: 11px; height: 11px; top: 40%; left: 80%; animation-delay: 0.3s;"></div>
      <div class="shiny" style="width: 6px; height: 6px; top: 65%; left: 70%; animation-delay: 2.8s;"></div>
      <div class="shiny" style="width: 8px; height: 8px; top: 55%; left: 25%; animation-delay: 1.8s;"></div>

      <!-- Distant birds flying in the background -->
      <div class="distant-bird float-2" style="top: 25%; left: 82%;">
        <svg viewBox="0 0 60 30" fill="none">
          <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      </div>

      <div class="distant-bird small float-1" style="top: 20%; left: 12%;">
        <svg viewBox="0 0 60 30" fill="none">
          <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      </div>

      <div class="distant-bird tiny float-3" style="top: 35%; left: 75%;">
        <svg viewBox="0 0 60 30" fill="none">
          <path class="wing-left" d="M30 15 Q20 8, 2 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path class="wing-right" d="M30 15 Q40 8, 58 4" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      </div>

      <div class="waitlist">
        <p class="waitlist-note">Currently in beta. Say hi if you're curious.</p>
        <form class="waitlist-form">
          <input type="email" placeholder="your@email.com" required />
          <button type="submit">Follow along</button>
        </form>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      A project by <a href={base}>Meenal Balar</a>
    </footer>

    <script>
      const bird = document.getElementById('flying-bird');

      // Starting off-screen left
      let currentX = -150;
      let currentY = window.innerHeight * 0.3;
      let targetX = currentX;
      let targetY = currentY;

      // Track scroll direction
      let lastScrollY = 0;
      let scrollDirection = 'down';

      function updateBirdPosition() {
        const scrollY = window.scrollY;
        const maxScroll = document.body.scrollHeight - window.innerHeight;
        const scrollPercent = Math.min(1, scrollY / maxScroll);

        // Detect scroll direction
        if (scrollY > lastScrollY + 5) {
          scrollDirection = 'down';
          bird.classList.remove('going-up');
        } else if (scrollY < lastScrollY - 5) {
          scrollDirection = 'up';
          bird.classList.add('going-up');
        }
        lastScrollY = scrollY;

        // Show bird after small scroll
        if (scrollY > 50) {
          bird.classList.add('visible');
        } else {
          bird.classList.remove('visible');
        }

        // Fly from left to right based on scroll
        // Start off-screen left, end off-screen right
        targetX = -100 + (window.innerWidth + 200) * scrollPercent;

        // Gentle wave pattern as it flies
        const wave = Math.sin(scrollPercent * Math.PI * 4) * 40;
        targetY = window.innerHeight * 0.28 + wave;

        // Smooth interpolation
        currentX += (targetX - currentX) * 0.08;
        currentY += (targetY - currentY) * 0.08;

        bird.style.left = currentX + 'px';
        bird.style.top = currentY + 'px';

        requestAnimationFrame(updateBirdPosition);
      }

      updateBirdPosition();

      // Phone screenshot carousel
      const carousel = document.getElementById('phone-carousel');
      const images = carousel?.querySelectorAll('img');
      let currentIndex = 0;

      if (images && images.length > 1) {
        setInterval(() => {
          images[currentIndex].classList.remove('active');
          currentIndex = (currentIndex + 1) % images.length;
          images[currentIndex].classList.add('active');
        }, 3000);
      }
    </script>
  </body>
</html>
